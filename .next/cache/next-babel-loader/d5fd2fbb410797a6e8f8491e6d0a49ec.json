{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\n\nvar _jsxFileName = \"/home/paramjeet/Desktop/nextcart/pages/products/checkout/[product].js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport Layout from '../../../components/Layout';\nexport var __N_SSG = true;\nexport default function Product(_ref) {\n  _s();\n\n  var products = _ref.products;\n\n  var _useState = useState(),\n      name = _useState[0],\n      setName = _useState[1];\n\n  var _useState2 = useState(),\n      email = _useState2[0],\n      setEmail = _useState2[1];\n\n  var _useState3 = useState(),\n      mobile = _useState3[0],\n      setMobile = _useState3[1];\n\n  var _useState4 = useState(),\n      address = _useState4[0],\n      setAddress = _useState4[1];\n\n  var _useState5 = useState(),\n      couponCode = _useState5[0],\n      setCouponCode = _useState5[1];\n\n  var data = {\n    name: name,\n    email: email,\n    mobile: mobile,\n    address: address,\n    couponCode: couponCode\n  };\n\n  var onCheckout = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(e) {\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              _context.next = 3;\n              return fetch('/api/checkout', {\n                method: \"POST\",\n                body: JSON.stringify({\n                  data: data\n                }),\n                headers: {\n                  \"Content-Type\": \"application/json\"\n                }\n              }).then(function (response) {\n                if (response.status >= 200 && response.status < 300) {\n                  alert(\"Success\");\n                  return response.json();\n                } else if (response.status >= 400) {\n                  alert(\"Success\");\n                } else {\n                  console.log(\"Something went wrong\");\n                  console.log(response);\n                }\n              }).then(function (json) {\n                return console.log(json);\n              });\n\n            case 3:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function onCheckout(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return __jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"col-6 p-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"card m-2\",\n    style: {\n      width: '24rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 21\n    }\n  }, __jsx(\"img\", {\n    className: \"card-img-top\",\n    src: products.image,\n    alt: \"Card image cap\",\n    width: \"250px\",\n    height: \"250px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 25\n    }\n  }), __jsx(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 25\n    }\n  }, __jsx(\"h5\", {\n    className: \"card-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 29\n    }\n  }, products.title), __jsx(\"h6\", {\n    className: \"card-subtitle mb-2 text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 29\n    }\n  }, \"Price: $\", products.price), __jsx(\"p\", {\n    className: \"card-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 29\n    }\n  }, products.description)))), __jsx(\"div\", {\n    className: \"col-6 p-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }\n  }, __jsx(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 25\n    }\n  }, __jsx(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    id: \"exampleInputEmail1\",\n    \"aria-describedby\": \"emailHelp\",\n    placeholder: \"Name\",\n    value: name,\n    onChange: function onChange(e) {\n      return setName(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 29\n    }\n  })), __jsx(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 25\n    }\n  }, __jsx(\"input\", {\n    type: \"email\",\n    className: \"form-control\",\n    id: \"exampleInputEmail1\",\n    \"aria-describedby\": \"emailHelp\",\n    required: true,\n    placeholder: \"Email\",\n    value: email,\n    onChange: function onChange(e) {\n      return setEmail(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 29\n    }\n  })), __jsx(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 25\n    }\n  }, __jsx(\"input\", {\n    type: \"number\",\n    className: \"form-control\",\n    id: \"exampleInputPassword1\",\n    placeholder: \"Mobile\",\n    required: true,\n    value: mobile,\n    onChange: function onChange(e) {\n      return setMobile(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 29\n    }\n  })), __jsx(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 25\n    }\n  }, __jsx(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    id: \"exampleInputPassword1\",\n    placeholder: \"Address\",\n    required: true,\n    value: address,\n    onChange: function onChange(e) {\n      return setAddress(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 29\n    }\n  })), __jsx(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 25\n    }\n  }, __jsx(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    id: \"exampleInputPassword1\",\n    placeholder: \"Coupon Code\",\n    value: couponCode,\n    onChange: function onChange(e) {\n      return setCouponCode(e.target.value);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 29\n    }\n  })), __jsx(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary\",\n    onClick: function onClick(e) {\n      return onCheckout(e);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 25\n    }\n  }, \"Submit\")))));\n}\n\n_s(Product, \"eJwAP5Yqn4J+Miyl4JatWAA79Y0=\");\n\n_c = Product;\n\nvar _c;\n\n$RefreshReg$(_c, \"Product\");","map":{"version":3,"sources":["/home/paramjeet/Desktop/nextcart/pages/products/checkout/[product].js"],"names":["React","useState","Layout","Product","products","name","setName","email","setEmail","mobile","setMobile","address","setAddress","couponCode","setCouponCode","data","onCheckout","e","preventDefault","fetch","method","body","JSON","stringify","headers","then","response","status","alert","json","console","log","width","image","title","price","description","target","value"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport Layout from '../../../components/Layout';\nimport { getAllIds, getProduct } from './../../../api/product'\n\nexport default function Product({ products }) {\n    const [name, setName] = useState()\n    const [email, setEmail] = useState()\n    const [mobile, setMobile] = useState()\n    const [address, setAddress] = useState()\n    const [couponCode, setCouponCode] = useState()\n    \n    const data = { name,email,mobile,address,couponCode }\n    \n    \n    const onCheckout = async (e) => {\n        e.preventDefault()\n       await fetch('/api/checkout', {\n            method: \"POST\",\n            body: JSON.stringify({data}),\n            headers: {\n                \"Content-Type\": \"application/json\"\n           },\n       }).then(response => {\n           if (response.status >= 200 && response.status < 300) {\n               alert(\"Success\");\n               return response.json();\n           } else if (response.status >= 400) {\n               alert(\"Success\");\n           } else {\n               console.log(\"Something went wrong\");\n               console.log(response);\n           }\n       }).then(json => console.log(json));\n    }\n\n\n    return (\n        <Layout>\n            <div className=\"row\">\n                <div className=\"col-6 p-5\">\n                    <div className=\"card m-2\" style={{ width: '24rem' }}>\n                        <img className=\"card-img-top\" src={products.image} alt=\"Card image cap\" width=\"250px\" height=\"250px\" />\n                        <div className=\"card-body\">\n                            <h5 className=\"card-title\">{products.title}</h5>\n                            <h6 className=\"card-subtitle mb-2 text-muted\">Price: ${products.price}</h6>\n                            <p className=\"card-text\">{products.description}</p>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-6 p-5\">\n                    <form>\n                        <div className=\"form-group\">\n                            <input type=\"text\" className=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" placeholder=\"Name\" value={name} onChange={(e)=>setName(e.target.value)} />\n                        </div>\n                        <div className=\"form-group\">\n                            <input type=\"email\" className=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" required placeholder=\"Email\" value={email} onChange={(e) => setEmail(e.target.value)}/>\n                        </div>\n                        <div className=\"form-group\">\n                            <input type=\"number\" className=\"form-control\" id=\"exampleInputPassword1\" placeholder=\"Mobile\" required value={mobile} onChange={(e) => setMobile(e.target.value)}/>\n                        </div>\n                        <div className=\"form-group\">\n                            <input type=\"text\" className=\"form-control\" id=\"exampleInputPassword1\" placeholder=\"Address\" required value={address} onChange={(e) => setAddress(e.target.value)}/>\n                        </div>\n                        <div className=\"form-group\">\n                            <input type=\"text\" className=\"form-control\" id=\"exampleInputPassword1\" placeholder=\"Coupon Code\" value={couponCode} onChange={(e) => setCouponCode(e.target.value)} />\n                        </div>\n                        <button type=\"submit\" className=\"btn btn-primary\" onClick={(e)=>onCheckout(e)}>Submit</button>\n                    </form>\n                </div>\n            </div>\n        </Layout>\n    )\n}\n\nexport async function getStaticPaths() {\n    const paths = getAllIds()\n    return {\n        paths,\n        fallback: false\n    }\n}\n\nexport async function getStaticProps({ params }) {\n    const productData = await getProduct(params.product)\n    return {\n        props: {\n            products: productData.product\n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}