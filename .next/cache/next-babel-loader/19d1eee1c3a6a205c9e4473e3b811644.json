{"ast":null,"code":"var _jsxFileName = \"/home/paramjeet/Desktop/nextcart/pages/products/checkout/[product].js\";\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport Layout from '../../../components/Layout';\nimport { getAllIds, getProduct } from './../../../api/product';\nexport default function Product({\n  products\n}) {\n  const {\n    0: name,\n    1: setName\n  } = useState('');\n  const {\n    0: email,\n    1: setEmail\n  } = useState('');\n  const {\n    0: mobile,\n    1: setMobile\n  } = useState('');\n  const {\n    0: address,\n    1: setAddress\n  } = useState('');\n  const {\n    0: couponCode,\n    1: setCouponCode\n  } = useState('');\n  const {\n    0: loading,\n    1: setLoading\n  } = useState(false);\n  const data = {\n    name,\n    email,\n    mobile,\n    address,\n    couponCode\n  };\n\n  const onCheckout = async e => {\n    e.preventDefault();\n    setLoading(true);\n    const response = await fetch('/api/checkout', {\n      method: \"POST\",\n      body: JSON.stringify({\n        data\n      }),\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    });\n\n    if (response.status >= 200 && response.status < 300) {\n      alert(\"Success\");\n      setAddress('');\n      setName('');\n      setMobile('');\n      setEmail('');\n      setCouponCode('');\n    } else if (response.status >= 400 && response.status < 500) {\n      alert(\"Please Enter Data\");\n    } else {\n      alert(\"Something went wrong\");\n      console.log(response);\n    }\n\n    setLoading(false);\n  };\n\n  return __jsx(Layout, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    className: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, __jsx(\"div\", {\n    className: \"col-6 p-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }\n  }, __jsx(\"div\", {\n    className: \"card m-2\",\n    style: {\n      width: '24rem'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 21\n    }\n  }, __jsx(\"img\", {\n    className: \"card-img-top\",\n    src: products.image,\n    alt: \"Card image cap\",\n    width: \"250px\",\n    height: \"250px\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 25\n    }\n  }), __jsx(\"div\", {\n    className: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 25\n    }\n  }, __jsx(\"h5\", {\n    className: \"card-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 29\n    }\n  }, products.title), __jsx(\"h6\", {\n    className: \"card-subtitle mb-2 text-muted\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 29\n    }\n  }, \"Price: $\", products.price), __jsx(\"p\", {\n    className: \"card-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 29\n    }\n  }, products.description)))), __jsx(\"div\", {\n    className: \"col-6 p-5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, __jsx(\"form\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 21\n    }\n  }, __jsx(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 25\n    }\n  }, __jsx(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    id: \"exampleInputEmail1\",\n    \"aria-describedby\": \"emailHelp\",\n    placeholder: \"Name\",\n    value: name,\n    onChange: e => setName(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 29\n    }\n  })), __jsx(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 25\n    }\n  }, __jsx(\"input\", {\n    type: \"email\",\n    className: \"form-control\",\n    id: \"exampleInputEmail1\",\n    \"aria-describedby\": \"emailHelp\",\n    placeholder: \"Email\",\n    value: email,\n    onChange: e => setEmail(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 29\n    }\n  })), __jsx(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 25\n    }\n  }, __jsx(\"input\", {\n    type: \"phone\",\n    className: \"form-control\",\n    id: \"exampleInputPassword1\",\n    placeholder: \"Mobile\",\n    value: mobile,\n    onChange: e => setMobile(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 29\n    }\n  })), __jsx(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 25\n    }\n  }, __jsx(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    id: \"exampleInputPassword1\",\n    placeholder: \"Address\",\n    value: address,\n    onChange: e => setAddress(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 29\n    }\n  })), __jsx(\"div\", {\n    className: \"form-group\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 25\n    }\n  }, __jsx(\"input\", {\n    type: \"text\",\n    className: \"form-control\",\n    id: \"exampleInputPassword1\",\n    placeholder: \"Coupon Code\",\n    value: couponCode,\n    onChange: e => setCouponCode(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 29\n    }\n  })), __jsx(\"button\", {\n    type: \"submit\",\n    className: \"btn btn-primary\",\n    disabled: loading || name,\n    onClick: e => onCheckout(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 25\n    }\n  }, \"Submit\")))));\n}\nexport async function getStaticPaths() {\n  const paths = getAllIds();\n  return {\n    paths,\n    fallback: false\n  };\n}\nexport async function getStaticProps({\n  params\n}) {\n  const productData = await getProduct(params.product);\n  return {\n    props: {\n      products: productData.product\n    }\n  };\n}","map":{"version":3,"sources":["/home/paramjeet/Desktop/nextcart/pages/products/checkout/[product].js"],"names":["React","useState","Layout","getAllIds","getProduct","Product","products","name","setName","email","setEmail","mobile","setMobile","address","setAddress","couponCode","setCouponCode","loading","setLoading","data","onCheckout","e","preventDefault","response","fetch","method","body","JSON","stringify","headers","status","alert","console","log","width","image","title","price","description","target","value","getStaticPaths","paths","fallback","getStaticProps","params","productData","product","props"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport Layout from '../../../components/Layout';\nimport { getAllIds, getProduct } from './../../../api/product'\n\nexport default function Product({ products }) {\n    const [name, setName] = useState('')\n    const [email, setEmail] = useState('')\n    const [mobile, setMobile] = useState('')\n    const [address, setAddress] = useState('')\n    const [couponCode, setCouponCode] = useState('')\n    const [loading,setLoading]=useState(false)\n\n    const data = { name, email, mobile, address, couponCode }\n\n\n    const onCheckout = async (e) => {\n        e.preventDefault()\n        setLoading(true)\n        const response=await fetch('/api/checkout', {\n            method: \"POST\",\n            body: JSON.stringify({ data }),\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n        })\n        if (response.status >= 200 && response.status < 300) {\n            alert(\"Success\");\n            setAddress('')\n            setName('')\n            setMobile('')\n            setEmail('')\n            setCouponCode('')\n        } else if (response.status >= 400 && response.status < 500) {\n            alert(\"Please Enter Data\");\n        } else {\n            alert(\"Something went wrong\");\n            console.log(response);\n        }\n        setLoading(false)\n    }\n\n\n    return (\n        <Layout>\n            <div className=\"row\">\n                <div className=\"col-6 p-5\">\n                    <div className=\"card m-2\" style={{ width: '24rem' }}>\n                        <img className=\"card-img-top\" src={products.image} alt=\"Card image cap\" width=\"250px\" height=\"250px\" />\n                        <div className=\"card-body\">\n                            <h5 className=\"card-title\">{products.title}</h5>\n                            <h6 className=\"card-subtitle mb-2 text-muted\">Price: ${products.price}</h6>\n                            <p className=\"card-text\">{products.description}</p>\n                        </div>\n                    </div>\n                </div>\n                <div className=\"col-6 p-5\">\n                    <form>\n                        <div className=\"form-group\">\n                            <input type=\"text\" className=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" placeholder=\"Name\" value={name} onChange={(e) => setName(e.target.value)} />\n                        </div>\n                        <div className=\"form-group\">\n                            <input type=\"email\" className=\"form-control\" id=\"exampleInputEmail1\" aria-describedby=\"emailHelp\" placeholder=\"Email\" value={email} onChange={(e) => setEmail(e.target.value)} />\n                        </div>\n                        <div className=\"form-group\">\n                            <input type=\"phone\" className=\"form-control\" id=\"exampleInputPassword1\" placeholder=\"Mobile\" value={mobile} onChange={(e) => setMobile(e.target.value)} />\n                        </div>\n                        <div className=\"form-group\">\n                            <input type=\"text\" className=\"form-control\" id=\"exampleInputPassword1\" placeholder=\"Address\" value={address} onChange={(e) => setAddress(e.target.value)} />\n                        </div>\n                        <div className=\"form-group\">\n                            <input type=\"text\" className=\"form-control\" id=\"exampleInputPassword1\" placeholder=\"Coupon Code\" value={couponCode} onChange={(e) => setCouponCode(e.target.value)} />\n                        </div>\n                        <button type=\"submit\" className=\"btn btn-primary\" disabled={loading || name } onClick={(e) => onCheckout(e)}>Submit</button>\n                    </form>\n                </div>\n            </div>\n        </Layout>\n    )\n}\n\nexport async function getStaticPaths() {\n    const paths = getAllIds()\n    return {\n        paths,\n        fallback: false\n    }\n}\n\nexport async function getStaticProps({ params }) {\n    const productData = await getProduct(params.product)\n    return {\n        props: {\n            products: productData.product\n        }\n    }\n}"]},"metadata":{},"sourceType":"module"}